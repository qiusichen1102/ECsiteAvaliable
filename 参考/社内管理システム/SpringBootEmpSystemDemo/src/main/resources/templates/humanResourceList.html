<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>人事基本情報表一覧</title>
<link rel="stylesheet"
	href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
 <link rel="stylesheet" href="./css/newStyle.css">
<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
<script
	src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="./js/script.js"></script>

<script>
	function fileCheck() {
		var file = document.getElementsByName('filename')[0].value;
		if (file.length > 0) {
			document.getElementById('importButton').disabled = false;
		} else {
			document.getElementById('importButton').disabled = true;
		}
	}
</script>
<script src="./js/script.js"></script>
</head>
<body>
	<div class="container-fluid">
		<div class="bg-primary">
			<h3>人事基本情報表一覧</h3>
		</div>

		<!-- 機能 -->
		<div class="row">
			<input class="btn btn-primary" value="戻る" size="3"
				onclick="location.href='./menu'">
		</div>

		<div id="div">
			<form action="HumanResource_search" method="get">
				<div class="form-group">
					<div class="form-search">
						<input type="text" class="form-search" name="keyword" id="txtname"
							placeholder="社員番号/名前" th:value="${keyword}"> <input
							type="submit" value="検索" class="btn btn-primary">
					</div>
				</div>
			</form>
		</div>

		<div class="export">
			<a href="/humanResource_excelExport">
				<button type="button" name ="humanResource" class="btn btn-primary" th:if="${countEmployee}" >エクスポート</button>
			</a>



			<form class="form-horizontal" id="form_table"
				action="/humanResource_excelImport" enctype="multipart/form-data"
				method="post" style="display: inline;">
				<button type="submit" class="btn btn-primary" id="importButton" disabled>インポート</button>
				<input class="form-input" type="file" name="filename"
					style="display: inline;" oninput="fileCheck()"
					 accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"></input> <input
					type="hidden" th:name="${_csrf.parameterName}"
					th:value="${_csrf.token}" />
			</form>

		</div>
</div>


		<!-- 社員リスト -->
		<div align="center" class="table-responsive">
			<table class="table table-hover table-striped">
				<thead>
					<tr>
						<th><div align="center">社員番号</div></th>
						<th><div align="center">名前（漢字）</div></th>
						<th><div align="center">名前（カナ）</div></th>
						<th><div align="center">性別</div></th>
						<th><div align="center">生年月日</div></th>
						<th><div align="center">社員区分</div></th>
						<th><div align="center">郵便番号</div></th>
						<th><div align="center">住所</div></th>
						<th><div align="center">連絡先</div></th>
						<th><div align="center">個人メールアドレス</div></th>
						<th><div align="center">会社メールアドレス</div></th>
						<th><div align="center">入社年月日</div></th>
						<th><div align="center">退職年月日</div></th>
						<th><div align="center">最寄り駅</div></th>
						<th><div align="center">基本給</div></th>
						<th><div align="center">月薪年回</div></th>
						<th><div align="center">保険標準</div></th>
						<th><div align="center">健康保険</div></th>
						<th><div align="center">厚生年金</div></th>
						<th><div align="center">介護保険</div></th>
						<th><div align="center">備考</div></th>
						<th colspan="2"><div align="center">操作</div></th>
					</tr>
				</thead>

				<tbody>
					<tr th:each="HumanResource:${HumanResourceList}"
						th:var="HumanResource" bgcolor="white" class="y"
						th:if="${countEmployee}">

						<td>
							<form action="/toHumanResourceDetails">
								<div align="center">
									<input type="hidden" name="id"
										th:value="${HumanResource.getEmpCd()}" /> <input
										class="btn btn-primary" type="submit"
										th:value="${HumanResource.getEmpCd()}" />
								</div>
							</form>
						</td>
						<!--  <td><a th:href="@{/{empCd}/humanResourceDetails(empCd=${HumanResource.getEmpCd()})}"><div align="center">[[${HumanResource.getEmpCd()}]]</div></a></td> -->
						
						<td><div align="center">[[${HumanResource.getNameKanji()}]]</div></td>
						<td><div align="center">[[${HumanResource.getNameKana()}]]</div></td>
						<td><div align="center">[[${HumanResource.getSex()}]]</div></td>
						<td><div align="center">[[${#dates.format(HumanResource.getBirthday(),'yyyy-MM-dd')}]]</div></td>
						<td><div align="center">[[${HumanResource.getEmployeeType()}]]</div></td>
						<td><div align="center">[[${HumanResource.getPostcode()}]]</div></td>
						<td><div align="center">[[${HumanResource.getAddress()}]]</div></td>
						<td><div align="center">[[${HumanResource.getTelNo()}]]</div></td>
						<td><div align="center">[[${HumanResource.getEmail()}]]</div></td>
						<td><div align="center">[[${HumanResource.getCompanyEmail()}]]</div></td>
						<td><div align="center">[[${#dates.format(HumanResource.getEnteringDate(),'yyyy-MM-dd')}]]</div></td>
						<td><div align="center">[[${#dates.format(HumanResource.getDimissionDate(),'yyyy-MM-dd')}]]</div></td>
						<td><div align="center">[[${HumanResource.getHomeStation()}]]</div></td>
						<td><div align="center">[[${HumanResource.getBasicSalary()}]]</div></td>
						<td><div align="center">[[${HumanResource.getSalaryTimes()}]]</div></td>
						<td><div align="center">[[${HumanResource.getInsuranceLine()}]]</div></td>
						<td><div align="center">[[${HumanResource.getHealthInsurance()}]]</div></td>
						<td><div align="center">[[${HumanResource.getRetirementPay()}]]</div></td>
						<td><div align="center">[[${HumanResource.getDiseaseInturance()}]]</div></td>
						<td><div align="center">[[${HumanResource.getHumanResourceComment()}]]</div></td>

						<!--変更-->
						<td>
							<form action="/toHumanResourceUpdate">
								<div align="center">
									<input type="hidden" name="id"
										th:value="${HumanResource.empCd}" /> <input
										class="btn btn-primary" type="submit" value="編集" />
								</div>
							</form>
						</td>



						<!--削除-->
						<td>
							<form action="HumanResource_delete">
								<div align="center">
									<input type="hidden" name="id"
										th:value="${HumanResource.getEmpCd()}" /> <input
										class="btn btn-primary" type="submit" value="削除"
										onClick="return delete_confirm()" />
								</div>
							</form>
						</td>

					</tr>
				</tbody>
			</table>
		</div>

		<div style="text-align: center; vertical-align: middel;">
			<form action="humanResourceList" method="get">
				<p>
				社員数：<label th:text="${countEmployee}"></label>名
				<!-- 共<label th:text="${pageTotalNum}"></label> ページ　 -->
				<!-- 毎ページ項目数： -->
				<input type="hidden" name="pageSize" th:value="${pageSize}">
				<!-- 現在ページ： -->
				<input type="hidden" name="pageNum" th:value="${pageNum}">
				<!-- <input type="submit" value="ToGo" class="btn btn-primary" name="buttom"> -->
				<input type="submit" value="前へ"
					class="btn btn-primary"	name="button"	th:unless="${firstPage}">
				 <input type="submit" value="次へ"
					class="btn btn-primary" name="button" th:unless="${lastPage}">
			</p>
			</form>
		</div>
		<script type="text/javascript">
			//削除確認メセージ
			function delete_confirm() {
				if (window.confirm('項目を削除します。よろしいですが？')) {
					//alert("確認");
					return true;
				} else {
					//alert("キャンセル");
					return false;
				}
			}
		</script>

</body>
</html>