<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>雇用保険加入喪失一覧</title>
<link rel="stylesheet"
	href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="./css/newStyle.css">
<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
<script
	src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="./js/script.js"></script>
	<script>
function fileCheck(){
	var file = document.getElementsByName('filename')[0].value;
	if(file.length>0){
		document.getElementById('importButton').disabled=false;
	}else{
		document.getElementById('importButton').disabled=true;
	}
}
</script>
</head>
<body>
<div class="container-fluid">
<div class="bg-primary" align="center">
	<h3>雇用保険加入喪失一覧</h3>
</div>

<!-- 機能 -->
	<div class="row">
		<input class="btn btn-primary" value="戻る" size="3" style="margin-left: 20px" onclick="location.href='./menu'">
	</div>

	<div id="div">
		<form action="WorkInsurance_search" method="get">
			<div class="form-group" style="margin-top: 30px">
				<div class="form-search">
					<input type="text" class="form-search" name="keyword" id="txtname"  placeholder="社員番号/名前"
						th:value="${keyword}"> <input type="submit" value="検索"
						class="btn btn-primary">
				</div>
			</div>
		</form>
	</div>

<!-- 	import export機能 -->
	<div class="export">
	<a href="/workInsuranceExport">
	<button type="button" class="btn btn-primary" name="workInsurance" th:if="${countEmployee}"  >エクスポート</button>
	</a>

	<form class="form-horizontal" id="form_table"  action="/workInsuranceExcelImport" enctype="multipart/form-data" method="post" style ="display:inline">
        <button type="submit" class="btn btn-primary" id="importButton" disabled>インポート</button>
        <input class="form-input" type="file" name="filename" style ="display:inline"
          oninput="fileCheck()"
           accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"></input>

        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"  />
    </form>
	</div>
</div>
	<!-- 社員リスト -->
<div align="center" class="table-responsive">
		<table class="table table-hover table-striped">
			<thead>
				<tr>
					<th><div align="center">社員番号</div></th>
		            <th><div align="center">名前（漢字）</div></th>
		            <th><div align="center">名前（カナ）</div></th>
		            <th><div align="center">加入状況</div></th>
		            <th><div align="center">給与</div></th>
		            <th><div align="center">申請日</div></th>
		            <th><div align="center">取得年月日</div></th>
		            <th><div align="center">喪失年月日</div></th>
		            <th><div align="center">被保険番号</div></th>
		            <th><div align="center">理由</div></th>
		            <th><div align="center">備考</div></th>
					<th colspan="2"><div align="center">操作</div></th>
				</tr>
			</thead>

			<tbody>
				<tr th:each="WorkInsurance:${WorkInsuranceList}" th:var="WorkInsurance" bgcolor="white" class= "y"
				th:if="${countEmployee}">
	                <td>
					<form action="/toWorkInsurancetoDetails">
							<div align="center">
							<input type="hidden" name="id" th:value="${WorkInsurance.getEmpCd()}" />
							<input class="btn btn-primary" type="submit" th:value="${WorkInsurance.getEmpCd()}" />
							</div>
					</form>
					</td>
	                <!-- <td><a th:href="@{/{empCd}/WorkInsurancetoDetails(empCd=${WorkInsurance.getEmpCd()})}"><div align="center">[[${WorkInsurance.getEmpCd()}]]</div></a></td> -->
	                <td><div align="center">[[${WorkInsurance.getNameKanji()}]]</div></td>
	                <td><div align="center">[[${WorkInsurance.getNameKana()}]]</div></td>
	                <td><div align="center">[[${WorkInsurance.getWorkInsuranceState()}]]</div></td>
	                <td><div align="center">[[${WorkInsurance.getSalary()}]]</div></td>
	                <td><div align="center">[[${#dates.format(WorkInsurance.getApplicationDate(),'yyyy-MM-dd')}]]</div></td>
	                <td><div align="center">[[${#dates.format(WorkInsurance.getStartingDate(),'yyyy-MM-dd')}]]</div></td>
	                <td><div align="center">[[${#dates.format(WorkInsurance.getQuitDate(),'yyyy-MM-dd')}]]</div></td>
	                <td><div align="center">[[${WorkInsurance.getWorkInsuranceNo()}]]</div></td>
	                <td><div align="center">[[${WorkInsurance.getReason()}]]</div></td>
	                <td><div align="center">[[${WorkInsurance.getWorkInsuranceComment()}]]</div></td>

					<!--変更-->
					<td>
						<form action="/toWorkInsuranceUpdate">
							<div align="center">
								<input type="hidden" name="id" th:value="${WorkInsurance.empCd}" />
								<input class="btn btn-primary" type="submit" value="編集" />
							</div>
						</form>
					</td>
	<!-- <td>

	<div align="center">
	<a th:href="@{/{empCd}/workInsuranceUpdate(empCd=${WorkInsurance.getEmpCd()})}"><input class="btn btn-primary" type="button" value="編集"/></a>
	</div>

	</td> -->
					<!--削除-->
	<td>
	<form action="WorkInsurance_delete">
	<div align="center">
	<input type="hidden" name="id" th:value="${WorkInsurance.getEmpCd()}" />
	<input class="btn btn-primary" type="submit" value="削除" onClick="return delete_confirm()"/>
	</div>
	</form>
	</td>

</tr>
</tbody>
</table>
</div>
<!-- 	<div style="text-align:center; vertical-align:middel;">
		<form action="workInsuranceList" method="get">
			<p>
				社員数：<label th:text="${countEmployee}"></label>名　　 共<label
					th:text="${pageTotalNum}"></label> ページ　　 毎ページ項目数：<input type="text"
					name="pageSize" th:value="${pageSize}" size="3"   >　　現在ページ：<input type="text"
					name="pageNum" th:value="${pageNum}" size="3"   > <input
					type="submit" value="ToGo" class="btn btn-primary" name="buttom">　　<input
					type="submit" value="前へ" class="btn btn-primary" name="buttom" >　<input
					type="submit" value="次へ" class="btn btn-primary" name="buttom" >
			</p>
		</form>
	</div> -->
	<div style="text-align:center; vertical-align:middel;">
		<form action="workInsuranceList" method="get">
			<p>
				社員数：<label th:text="${countEmployee}"></label>名
				<!-- 共<label th:text="${pageTotalNum}"></label> ページ　 -->
				<!-- 毎ページ項目数： -->
				<input type="hidden" name="pageSize" th:value="${pageSize}">
				<!-- 現在ページ： -->
				<input type="hidden" name="pageNum" th:value="${pageNum}">
				<!-- <input type="submit" value="ToGo" class="btn btn-primary" name="buttom"> -->
				<input type="submit" value="前へ"
					class="btn btn-primary"	name="button"	th:unless="${firstPage}">
				 <input type="submit" value="次へ"
					class="btn btn-primary" name="button" th:unless="${lastPage}">
			</p>
		</form>
	</div>
<script type="text/javascript">
	//削除確認メセージ
	function delete_confirm(){
		if(window.confirm('項目を削除します。よろしいですが？')){
			//alert("確認");
    		return true;
		}else{
    		//alert("キャンセル");
    		return false;
		}
	}
</script>
</div>
</body>
</html>