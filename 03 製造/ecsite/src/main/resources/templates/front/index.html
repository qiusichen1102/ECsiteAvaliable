<!DOCTYPE html>
<html lang="ja">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="csrf-token"
	content="nRyEkeIjUIgIDvqrRqK4nX9ExPgBZQhnNDQZMgB0">

<title>ECサイト</title>

<link rel="dns-prefetch" href="//fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css?family=Nunito"
	rel="stylesheet">

<link href="./assets/front/css/app.css" rel="stylesheet">
</head>

<body>
	<div id="react-root">
		<div th:include="./front/header/header.html :: header"></div>
		<main class="main">
			<div class="contentsArea">
				<div style="margin-bottom: 25px;">
					<div class="carousel slide">
						<ol class="carousel-indicators">
							<li class="active"></li>
							<li class=""></li>
							<li class=""></li>
							<li class=""></li>
						</ol>
						<div class="carousel-inner">
							<div class="carousel-item active">
								<img src="./assets/front/image/bunner_01.jpg" alt="Slide 1">
								<div class="carousel-caption d-none d-md-block">
									<h3>Slide 1</h3>
									<p>Slide 1</p>
								</div>
							</div>
							<div class="carousel-item">
								<img src="./assets/front/image/bunner_02.jpg" alt="Slide 2">
								<div class="carousel-caption d-none d-md-block">
									<h3>Slide 2</h3>
									<p>Slide 2</p>
								</div>
							</div>
							<div class="carousel-item">
								<img src="./assets/front/image/bunner_01.jpg" alt="Slide 3">
								<div class="carousel-caption d-none d-md-block">
									<h3>Slide 3</h3>
									<p>Slide 3</p>
								</div>
							</div>
							<div class="carousel-item">
								<img src="./assets/front/image/bunner_02.jpg" alt="Slide 4">
								<div class="carousel-caption d-none d-md-block">
									<h3>Slide 4</h3>
									<p>Slide 4</p>
								</div>
							</div>
						</div>
						<a class="carousel-control-prev" role="button" tabindex="0"
							style="cursor: pointer;"><span
							class="carousel-control-prev-icon" aria-hidden="true"></span><span
							class="sr-only">Previous</span></a><a class="carousel-control-next"
							role="button" tabindex="0" style="cursor: pointer;"><span
							class="carousel-control-next-icon" aria-hidden="true"></span><span
							class="sr-only">Next</span></a>
					</div>
				</div>
				<div class="">
					<div class="block01">
						<div class="block01_item"
							th:each="StockList : ${session.StockList}">
							<div class="text-right mb-2">
							</div>
							<img th:src="@{/imgDownloadIndex(stock=${StockList.id})}" alt="" class="block01_img">
							<p th:text="${StockList.name}">マカロン</p>
							<p class="c-red" th:text="${StockList.price}+'円'"></p>
							<p class="mb20" th:text="${StockList.detail}"></p>
							<form action="./myCart" method="post">
								<input type="hidden" name="stock_id" value="1"> <span
									th:if="${StockList.quantity==0}"> <input type="submit"
									class="btn-gray"
									th:value="'カートに入れる（残り'+${StockList.quantity}+'個)'"
									disabled="value"></span> <span
									th:unless="${StockList.quantity==0}"> <input
									type="submit" class="btn-gray" id="cartBtn"
									th:value="'カートに入れる（残り'+${StockList.quantity}+'個)'"
									style="background-color: red"></span>
							</form>
						</div>
					</div>
					<div class="mt40">
						<ul class="pagination">
							<li class="page-item"
								th:classappend="${session.currentPage == 1} ? 'disabled'">
								<a class="page-link" th:href="@{?pageNumber=1}">«</a>
							</li>
							<li class="page-item"
								th:classappend="${session.currentPage == 1} ? 'disabled'">
								<a class="page-link"
								th:href="@{?pageNumber=__${session.currentPage - 1}__}"
								aria-label="Go to previous page">⟨</a>
							</li>
							<li class="page-item"
								th:classappend="${session.currentPage == 1} ? 'active'"><a
								class="page-link" th:href="@{?pageNumber=1}">1</a></li>
							<li
								th:each="pageNum : ${#numbers.sequence(2, session.totalPages)}"
								class="page-item"
								th:classappend="${session.currentPage == pageNum} ? 'active'">
								<a class="page-link" th:href="@{?pageNumber=__${pageNum}__}"
								th:text="${pageNum}"></a>
							</li>
							<li class="page-item"
								th:classappend="${session.currentPage == session.totalPages} ? 'disabled'">
								<a class="page-link"
								th:href="@{?pageNumber=__${session.currentPage + 1}__}">⟩</a>
							</li>
							<li class="page-item"
								th:classappend="${session.currentPage == session.totalPages} ? 'disabled'">
								<a class="page-link"
								th:href="@{?pageNumber=__${session.totalPages}__}">»</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</main>
		<div th:include="./front/footer/footer.html :: footer"></div>
	</div>
	<script>
		var button = document.getElementById('cartBtn');
		var user = '[[${session.user}]]';
		// 绑定点击事件
		button.addEventListener('click', function() {
			// 检查用户登录状态
			if (user==null) {
				// 用户未登录，弹出提示框
				alert('用户未登录，请先登录');
				// 可以选择执行其他相应的操作，比如跳转到登录页面
				// window.location.href = 'login.html';
			} else {
				// 用户已登录，执行按钮点击后的操作
				// ...
			}
		});
	</script>
	<script th:inline="javascript">
       const indicators = document.querySelectorAll('.carousel-indicators li');

       let currentActiveIndex = 0;

       setInterval(() => {
          indicators[currentActiveIndex].classList.remove('active');
          currentActiveIndex = (currentActiveIndex + 1) % indicators.length;

          indicators[currentActiveIndex].classList.add('active');

          const carouselItems = document.querySelectorAll('.carousel-inner .carousel-item');
         carouselItems.forEach((item, index) => {
          if (index === currentActiveIndex) {
             item.classList.add('active');
          } else {
            item.classList.remove('active');
            }
          });
        }, 5000);
</script>
	<script>
		var laravelSession = {};
		laravelSession['status'] = '';
		laravelSession['resent'] = '';
		var laravelErrors = [];
	</script>
	<script src="/assets/front/js/app.js" defer=""></script>
	<script src="https://js.stripe.com/v3/"></script>
	<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
	<script
		src="https://www.gstatic.com/firebasejs/8.4.1/firebase-analytics.js"></script>
	<script
		th:src="@{https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js}"></script>
	<iframe name="__privateStripeMetricsController6870" frameborder="0"
		allowtransparency="true" scrolling="no" role="presentation"
		allow="payment *"
		src="https://js.stripe.com/v3/m-outer-93afeeb17bc37e711759584dbfc50d47.html#url=https%3A%2F%2Flaraec.isystk.com%2F&amp;title=LaraEC&amp;referrer=&amp;muid=b180e683-7123-4569-81c5-78422f08302fa34d58&amp;sid=8444d4ea-5190-47b7-9546-ab47a1dded86d0232a&amp;version=6&amp;preview=false"
		aria-hidden="true" tabindex="-1"
		style="border: none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important; visibility: hidden !important; position: fixed !important; height: 1px !important; pointer-events: none !important; user-select: none !important;"></iframe>
</body>

</html>