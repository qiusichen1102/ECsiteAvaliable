<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.CategoryMapper">

	<!-- list -->
	<select id="searchCategoryList"
		resultType="com.example.demo.bean.Category">
		SELECT * FROM TBL_CATEGORY
		ORDER BY category_id ASC
	</select>

	<!-- detail -->
	<select id="detalCategory" parameterType="String"
		resultType="com.example.demo.bean.Category">
		SELECT * FROM TBL_CATEGORY WHERE category_id=
		#{category_id}
	</select>

	<!-- search -->
	<select id="search_name" resultType="com.example.demo.bean.Category">
		SELECT * FROM TBL_CATEGORY
		<choose>
		<when test="keyword != null and keyword!=''">
			where category_name LIKE '%${keyword}%' ORDER BY category_id ASC
		</when>
		<otherwise>
			ORDER BY category_id ASC
		</otherwise>
		</choose>
	</select>

	<!-- delete -->
	<delete id="deleteCategory" parameterType="String">
		delete FROM
		TBL_CATEGORY WHERE category_id= #{category_id}
	</delete>

	<!-- add -->
	<insert id="addCategory">
		insert into TBL_CATEGORY
		(category_id,category_name,category_description,publication_status)
		values(#{category_id},#{category_name},
		#{category_description},#{publication_status})
	</insert>

	<!-- update -->
	<update id="updateCategory" parameterType="com.example.demo.bean.Category">
		update TBL_CATEGORY SET
		category_id=#{category_id},category_name=#{category_name},
		category_description=#{category_description},
		publication_status=#{publication_status}
		WHERE category_id=#{category_id}
	</update>

</mapper>